[[GIGS]]
=== Geospatial Integrity of Geoscience Software (GIGS)

The https://gigs.iogp.org[Geospatial Integrity of Geoscience Software] (GIGS) tests are the products of an initiative of the International Association of Oil & Gas Producers (https://www.iogp.org[IOGP]) to provide tests for coordinate operations. GIGS datasets are available as CSV files on the https://github.com/IOGP-GIGS/GIGSTestDataset[IOGP-GIGS GitHub repository]. The aim of the GIGS activity during this code sprint was to convert the CSV files into implementation-neutral executable tests. The Apache SIS project has been used for testing the tests, but those tests do not contain any dependency to SIS. Implementation-neutral tests can be realized by a web service, and efforts in this direction are already underway at IOGP. But implementation-neutral tests (or other services) can also be done through programming interfaces.

At the time of writing, the only programming language for which an OGC Standard API exists is the Java language (note: it does not imply that implementations must be in Java; an implementation can be in C/C++ with wrappers such as https://github.com/OSGeo/PROJ-JNI[PROJ-JNI]). A Python binding of GeoAPI is in development but not yet submitted to the OGC GeoAPI SWG for approval.

The executable tests are implemented as JUnit 5 tests and can be executed by any implementation of http://www.geoapi.org[GeoAPI 3.0.1] Java interfaces. A future version may allow execution of any implementation of Python interfaces if those interfaces (after completion) are approved as an OGC standard. The tests can be either integrated in the test suite of a project (e.g. using Maven, but other build tools work as well), or be executed by a Graphical User Interface (GUI) shown below. When using the GUI, the user selects the JAR file of the library to test. The implementation entry points are automatically discovered using the standard `java.util.ServiceLoader` mechanism of the Java platform. Optional metadata such as implementation name and version are fetched from the standard `MANIFEST.MF` file bundled in the specified JAR file.


[[img_GIGS]]
.Screenshot of GIGS test execution on Apache SIS library
image::../images/GIGS.png[align="center",width=755,height=818]

Tests are configurable. Configuration options include:

* Whether names of objects (datum, CRS…) in the implementation are the names defined by EPSG.
* Whether the list of aliases for each object includes at least the aliases defined by EPSG.
*	Whether dependencies (e.g. the datum in a CRS) also use the EPSG codes, names and aliases.
* Whether the implementation can still create objects that have been deprecated by EPSG.
* Whether the implementation has information about which version of a coordinate operation is used.
* And more…

Configuration options can be modified on a case-by-case basis in a project (not yet through the GUI).
In the above screenshot, where a test was failing because a "Côte d'Ivoire" alias was missing,
it would be possible to disable the alias check only for that particular CRS.
When a test has some disabled checks, the green bar indicating a successful test becomes shorter.

GIGS tests are divided into series:

* Series 2200 tests the capability of an implementation to build various kinds of objects
  (datum, CRS, operation…) from EPSG codes, and checks that the object matches EPSG definitions.
* Series 3200 tests the capability of an implementation to build various kinds of objects
  from custom parameters (not necessarily matching an object from the EPSG database).
* Series 5100 tests various coordinate operations (including map projections)
  and checks that the implementation produces the expected values.
* Series 5200 tests various coordinate transformations (including datum shifts)
  and checks that the implementation produces the expected values.
* Series 5300, 5400 and 5500 tests operations with seismic and Wells data.
* Series 7000 checks that some deprecated objects are marked as such.

In this code sprint, we completed all Series 2200 tests.
Series 3200 tests are available from GIGS version 1, but have not yet been ported to version 2.
A little bit of time has been invested in making the GUI test runner more usable.
