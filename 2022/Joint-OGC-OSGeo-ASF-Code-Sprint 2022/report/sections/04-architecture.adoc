[[architecture]]
== High-Level Architecture

The focus of the sprint was on the support of implementations of open geospatial standards across various open source software projects. Implementations of approved and candidate OGC Standards were deployed in participants’ own infrastructure in order to build a solution with the architecture shown below in <<img_architecture>>.

[[img_architecture]]
.High Level Overview of the Sprint Architecture
image::../images/architecture.png[align="center",width=800]

As illustrated the sprint architecture was designed with the view of enabling client applications to connect to different servers that implement open geospatial standards such as the suite of OGC API standards. The architecture also included several different software libraries that support open geospatial standards and enable the extraction, transformation and loading of geospatial data.
The rest of this section describes the software deployed and standards implemented during the code sprint.

=== Approved OGC Standards

This section describes the approved OGC standards implemented during the code sprint.

==== OGC API - Features

The https://ogcapi.ogc.org/features[OGC API — Features] standard offers the capability to create, modify, and query spatial data on the Web and specifies requirements and recommendations for APIs that want to follow a standard way of sharing feature data. A ‘feature’ is an abstraction of real-world phenomena or entity (<<OGC17-087r13>>). The standard specifies discovery and query operations, with additional operations planned for future extensions of the standard. Discovery operations enable client applications to interrogate the API to determine its capabilities and retrieve information about the dataset that is accessible through the API. In contrast, Query operations enable client applications to retrieve feature data from the underlying storage based upon selection criteria defined by the client. The standard can be considered the successor to the widely implemented Web Feature Service (WFS) standard.

The OGC API — Features standard comprises of multiple parts, which are listed below:

*	http://docs.ogc.org/is/17-069r3/17-069r3.html[Part 1: Core] is an approved standard that describes the mandatory capabilities that every implementing service has to support and is restricted to read-access to spatial data that is referenced to the World Geodetic System 1984 (WGS 84) Coordinate Reference System (CRS).
*	https://docs.ogc.org/is/18-058/18-058.html[Part 2: CRS by Reference] is an approved standard that enables the use of different CRS, in addition to the WGS 84.
*	http://docs.ogc.org/DRAFTS/19-079r1.html[Part 3: Filtering] is a candidate standard that defines the behavior of a server that supports
enhanced filtering capabilities expressed using the Common Query Language (CQL2).

Additional capabilities that address specific needs will be specified in additional parts. Envisaged future capabilities include, for example, support for creating and modifying data, more complex data models, and richer queries.

==== OGC API - Environmental Data Retrieval

An Environmental Data Retrieval (EDR) API provides a family of lightweight interfaces to access environmental data resources. Each resource addressed by an EDR API maps to a defined query pattern. The https://ogcapi.ogc.org/edr[OGC API – Environmental Data Retrieval] standard identifies resources, captures compliance classes, and specifies requirements that are applicable to environmental data retrieval. https://docs.ogc.org/is/19-086r4/19-086r4.html[The standard] addresses two fundamental operations; discovery and query of environmental data resources. Discovery operations allow the API to be interrogated to determine its capabilities and retrieve information (metadata) about this distribution of a resource. This includes the API definition of the server as well as metadata about the environmental data resources provided by the server. Query operations allow environmental data resources to be retrieved from the underlying data store based upon simple selection criteria, defined by this standard and selected by the client.

====  OGC API - Processes

The https://ogcapi.ogc.org/processes[OGC API - Processes] standard enables the execution of computing processes and the retrieval of metadata describing their purpose and functionality. Typically, these processes combine raster, vector, and/or coverage data with well-defined algorithms to produce new raster, vector, and/or coverage information. The standard can be considered the successor to the widely implemented Web Processing Service (WPS) standard.

OGC API – Processes is comprised of multiple parts, which are listed below:

*	https://docs.ogc.org/is/18-062r2/18-062r2.html[Part 1: Core] is an approved standard that specifies an interface that enables the execution of computing processes and the retrieval of metadata describing their purpose and functionality.
*	https://github.com/opengeospatial/ogcapi-processes/blob/master/extensions/deploy_replace_undeploy/standard/20-044.adoc[Part 2: Deploy, Replace, Undeploy] is a candidate standard that specifies an interface for deployment, replacement, and undeployment of processes from a server.
*	https://github.com/opengeospatial/ogcapi-processes/blob/master/extensions/workflows/standard/21-009.adoc[Part 3: Workflows] is a candidate standard specifies an interface that provides the ability to chain nested processes, refer to external processes and collections accessible via OGC API standards, and trigger execution of processes through implementations of OGC API standards.


====  OGC GeoAPI

The https://portal.ogc.org/files/?artifact_id=71648[GeoAPI] Implementation Standard defines the normalized use of the GeoAPI library. The GeoAPI library contains a series of interfaces and classes in the Java programming language defined in several packages which interpret into Java the data model and Unified Modeling Language (UML) types that are specified in ISO and OGC standards documents. The library includes extensive Javadoc code documentation which complements the implementation of the ISO/OGC specifications by explaining particularities of the GeoAPI library: interpretations made of the specifications where there was room for choice, constraints due to the library’s use of Java, or standard patterns of behavior expected by the library, notably in its handling of return types during exceptional situations.

In this code sprint, the GeoAPI implementers focused on support for the https://www.iogp.org/bookstore/product/geospatial-integrity-of-geoscience-software-part-1-gigs-guidance-note/[Geospatial Integrity of Geoscience Software (GIGS)] specification.

=== Draft OGC Specifications

This section describes the draft OGC specifications implemented during the code sprint.

==== OGC API - Common

The draft https://ogcapi.ogc.org/common/[OGC API - Common] standard specifies the set of common practices and shared requirements that have emerged from the development of Resource Oriented Architectures and Web APIs within the OGC. The specification serves as a common foundation upon which all OGC APIs will be built. Consistent with the architecture of the Web, this specification uses a resource architecture that conforms to principles of Representational State Transfer (REST). The draft OGC API – Common specification establishes a common pattern that leverages the OpenAPI specification for describing APIs.

==== OGC API - Coverages

The draft https://ogcapi.ogc.org/coverages/[OGC API - Coverages] standard defines a Web API for accessing coverages that are modeled according to the Coverage Implementation Schema (CIS) 1.1. A coverage is a feature that acts as a function to return values from its range for any direct position within its spatial, temporal or spatiotemporal domain (<<OGC07-011>>). Coverages are represented by some binary or ASCII serialization, specified by some data (en-coding) format. Arguably the most popular type of coverage is that of a gridded coverage. Gridded coverages have a grid as their domain set describing the direct positions in multi-dimensional coordinate space, depending on the type of grid. Satellite imagery is typically modeled as a gridded coverage, for example. OGC API - Coverages can be considered the future successor to the widely implemented Web Coverage Service (WCS) standard.



==== OGC API - Maps

The draft https://ogcapi.ogc.org/maps/[OGC API - Maps] standard describes an API that presents maps portraying data that has been rendered according to a style. The maps served by implementations of the draft OGC API - Maps standard are retrieved as images of any size, generated on-the-fly, and with the styling determined by the client application. OGC API - Maps can be considered the future successor to the widely implemented Web Map Service (WMS) standard.


==== OGC API - Records

The draft https://ogcapi.ogc.org/records[OGC API - Records] standard provides discovery and access to metadata records about resources such as features, coverages, tiles / maps, models, assets, services or widgets. The draft specification enables the discovery of geospatial resources by standardizing the way collections of descriptive information about the resources (metadata) are exposed. The draft specification also enables the discovery and sharing of related resources that may be referenced from geospatial resources or their metadata by standardizing the way all kinds of records are exposed and managed. OGC API - Records can be considered the future successor to the widely implemented Catalogue Services for the Web (CSW) standard.

==== OGC API - Routes

The draft https://ogcapi.ogc.org/routes[OGC API - Routes] standard specifies the behavior of a Web API that allows applications to request routes in a manner independent of the underlying routing data set, routing engine or algorithm. The https://docs.ogc.org/DRAFTS/21-000.html[draft standard] defines modular API building blocks for computing new routes, specifying commonly used routing parameters, and for managing routes. Implementations of OGC API - Routes represent routes as a feature collection encoded in GeoJSON according to the https://docs.ogc.org/DRAFTS/21-001.html[OGC Route Exchange Model (REM)] candidate standard.

==== OGC API - Tiles

The draft https://ogcapi.ogc.org/tiles[OGC API - Tiles] standard specifies the behavior of Web APIs that provide access to tiles of one or more geospatial data resources (collections) or from the whole dataset that the Web API offers. This draft standard defines how to discover which resources offered by the Web API can be retrieved as tiles, get metadata about the available tile sets (including according to which tile matrix set each tile set is partitioned in and the limits of that tile set within a common potentially global tile matrix set) and how to request a tile.

==== OGC Gridded Geodetic Data Exchange Format (GGXF)

The purpose of the Gridded Geodetic Data Exchange Format (GGXF) project team is to design a file structure and computer storage mechanism for the efficient exchange of regularly gridded geodetic data.

=== OSGeo Projects

This section describes software products, from OSGeo Projects, that were deployed during the code sprint.

include::architecture/grass.adoc[]
include::architecture/mapserver.adoc[]
include::architecture/postgis.adoc[]
include::architecture/proj.adoc[]
include::architecture/pycsw.adoc[]
include::architecture/qgis.adoc[]

=== OSGeo Community Projects

This section describes software products, from OSGeo Community Projects, that were deployed during the code sprint.

include::architecture/leaflet.adoc[]
include::architecture/owslib.adoc[]
include::architecture/pgrouting.adoc[]
include::architecture/pygeoapi.adoc[]
include::architecture/pygeometa.adoc[]
include::architecture/teamengine.adoc[]
include::architecture/zooproject.adoc[]


=== ASF Projects

This section describes software products, from ASF Projects, that were deployed during the code sprint.

include::architecture/apachesis.adoc[]


=== Other open source products

include::architecture/ldproxy.adoc[]
include::architecture/rabbitmq.adoc[]
include::architecture/T17D166.adoc[]
include::architecture/T17D168.adoc[]

=== Proprietary products

include::architecture/cubeserv.adoc[]
include::architecture/gnosis.adoc[]
